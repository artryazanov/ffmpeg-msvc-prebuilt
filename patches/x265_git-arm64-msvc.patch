diff --git a/source/common/aarch64/intrapred-prim.cpp b/source/common/aarch64/intrapred-prim.cpp
index 72abc12..81abc12 100644
--- a/source/common/aarch64/intrapred-prim.cpp
+++ b/source/common/aarch64/intrapred-prim.cpp
@@ -2,6 +2,9 @@
 #include "primitives.h"
 
 
+#if defined(_M_ARM64) && !defined(HAVE_NEON)
+#define HAVE_NEON 1
+#endif
 #if HAVE_NEON
 #include "arm64-utils.h"
 #include "mem-neon.h"
diff --git a/source/common/aarch64/intrapred-prim.h b/source/common/aarch64/intrapred-prim.h
index 990e662..c51a705 100644
--- a/source/common/aarch64/intrapred-prim.h
+++ b/source/common/aarch64/intrapred-prim.h
@@ -1,6 +1,6 @@
 #ifndef INTRAPRED_PRIM_H__
 
-#if defined(__aarch64__)
+#if defined(__aarch64__) || defined(_M_ARM64)
 
 namespace X265_NS
 {
